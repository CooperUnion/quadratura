from datauri import DataURI
from PIL import Image
import io
# datauri = 'data:image/png;base64,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'


import sys
import select

if select.select([sys.stdin, ], [], [], 0.0)[0]:
    print("Have data!")
else:
    print("No data")

stdinURI = open(0).read()

uri = DataURI(stdinURI)
print(uri.mimetype)

image = Image.open(io.BytesIO(uri.data))
image.save('test.png')